(function(){"use strict";var t={2415:function(t,e,i){i(6992),i(8674),i(9601),i(7727);var n=i(144),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("Home",{on:{playing:function(e){return t.dialog()},setting:function(e){t.setting=!0}}})],1)},r=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("Setting",{on:{click:t.close,reCreate:t.reCreate}}),i("div",{staticClass:"text-center"},[i("v-bottom-sheet",{attrs:{inset:""},model:{value:t.player,callback:function(e){t.player=e},expression:"player"}},[i("v-card",{attrs:{tile:""}},[i("v-list",[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[i("img",{attrs:{src:"/img/logo.png",width:"50px/"}})])],1),i("v-spacer"),i("v-list-item-icon",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[i("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.$store.dispatch("toggleSetting",!0),t.visualizer=!1}}},[i("v-icon",[t._v("mdi-cog")])],1)],1)]}}])},[i("span",[t._v("Settings")])])],1),i("v-list-item-icon",{class:{"mx-4":t.$vuetify.breakpoint.mdAndUp}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[t.playing?i("v-btn",{attrs:{id:"playButton",icon:""},on:{click:function(e){return e.stopPropagation(),t.playSound.apply(null,arguments)}}},[i("v-icon",[t._v("mdi-play")])],1):t._e(),!1===t.playing?i("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.stopSound.apply(null,arguments)}}},[i("v-icon",[t._v("mdi-stop")])],1):t._e()],1)]}}])},[i("span",[t._v("Play example")])])],1)],1)],1)],1)],1)],1),i("div",{staticClass:"parent"},[t.active?i("canvas",{attrs:{id:"renderCanvas"},on:{click:function(e){return t.$store.dispatch("toggleVisualizer",!0)}}}):t._e(),i("audio",{staticStyle:{display:"none"},attrs:{controls:"",id:"audio",src:t.soundFile}})])],1)},s=[],l=i(5385),c=i(6198),h=i(9726),u=i(6133),m=i(2751),d=(i(5666),i(1539),i(2472),i(8675),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(8867),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),function(){function t(e){(0,u.Z)(this,t),this.fft=null,this.fftSize=e,this.initialized=!1,this.analyzer=null}return(0,m.Z)(t,[{key:"nodes",value:function(){if(!1===this.initialized){this.context=new AudioContext;var t=document.getElementsByTagName("audio")[0];this.audioElement=t,console.log((0,h.Z)(this.mediaSource)),console.log(this.mediaSource),"undefined"===typeof this.mediaSource&&(this.mediaSource=this.context.createMediaElementSource(t)),this.analyzer=this.context.createAnalyser(),this.analyzer.fftSize=this.fftSize;var e=this.analyzer.frequencyBinCount;this.fft=new Uint8Array(e),this.mediaSource.connect(this.analyzer),this.analyzer.connect(this.context.destination),this.initialized=!0}}},{key:"getFrequency",value:function(){if(null!==this.analyzer)return this.analyzer.getByteFrequencyData(this.fft)}},{key:"onPause",value:function(t){return new Promise(t)}},{key:"stop",value:function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"undefined"!==typeof this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0),t.abrupt("return",new Promise(e));case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"play",value:function(t){return this.audioElement.play(),this.audioElement.currentTime=0,this.nodes(),new Promise(t)}},{key:"getStream",value:function(){return this.audioElement.captureStream()}},{key:"getFtt",value:function(){return this.getFrequency(),this.fft}}]),t}()),g=d,p=(i(2001),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{transition:"dialog-upper-transition",fullscreen:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",[t._v(" Style ")]),i("v-tab",[t._v(" Sound ")]),i("v-tab",[t._v(" Branding ")]),i("v-tab",[t._v(" Last step ")])],1),i("v-tabs-items",[i("v-tab-item",[i("v-card",{attrs:{flat:""}},[i("v-card-title",[t._v(" Choose a style ")]),i("Templates")],1)],1)],1)],1),0===t.tab?i("Templates"):t._e(),1===t.tab?i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-card-title",[t._v("Sound source")]),i("v-card-subtitle",[t._v("Upload your own sound or use your microphone to record a real-time sound.")]),i("v-list-item",[i("v-list-item-content",[i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"audio/*","prepend-icon":"mdi-music",label:"Choose your sound.",outlined:"",dense:""},on:{change:function(e){return t.soundSelected(e)}},model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1)],1)],1)],1)],1):t._e(),2===t.tab?i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-card-title",[t._v("Branding")]),i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"image/png, image/jpeg, image/bmp","prepend-icon":"mdi-camera",label:"Choose a background.",outlined:"",dense:""},on:{change:function(e){return t.backgroundSelected(e)}},model:{value:t.background,callback:function(e){t.background=e},expression:"background"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"image/png, image/jpeg, image/bmp","prepend-icon":"mdi-camera",label:"Choose your a logo.",outlined:"",dense:""},on:{change:function(e){return t.emblemSelected(e)}},model:{value:t.emblem,callback:function(e){t.emblem=e},expression:"emblem"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Title",outlined:"",dense:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Subtitle",outlined:"",dense:""},model:{value:t.subtitle,callback:function(e){t.subtitle=e},expression:"subtitle"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-row",[i("v-col",{attrs:{md:"2",sm:"12",lg:"2"}},[i("v-list-item-title",[t._v("Primary color")]),i("v-color-picker",{attrs:{"dot-size":"25","hide-sliders":"","show-swatches":"","swatches-max-height":"100"},on:{"update:color":function(e){return t.colorSelected(e)}}})],1),i("v-col",{attrs:{md:"2",sm:"12",lg:"2"}},[i("v-list-item-title",[t._v(" Scene lights ")]),i("v-color-picker",{attrs:{"dot-size":"25","hide-sliders":"","show-swatches":"","swatches-max-height":"100"},on:{change:function(e){return t.setLightColor(e)}},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1)],1)],1)],1):t._e(),3===t.tab?i("v-row",[i("v-col",{attrs:{md:"4","offset-md":"2"}},[i("v-card",[i("v-card-title",[t._v(" Free ")]),i("v-card-subtitle",[t._v("Your visualizer will be generated inside your own web-browser.")]),i("v-list",[i("v-list-item-group",{attrs:{color:"primary"}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Download visualizer ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Remove watermark ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Higher quality ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Change visualizer sensitivity ")])],1)],1)],1)],1),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{outlined:"",rounded:""},on:{click:t.save}},[t._v(" Create ")])],1)],1)],1),i("v-col",{attrs:{md:"4"}},[i("v-card",[i("v-card-title",[t._v(" Premium ")]),i("v-card-subtitle",[t._v("We will generate the visualizer on our own servers.")]),i("v-list",[i("v-list-item-group",{attrs:{color:"primary"}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Higher quality and performance. ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Without our watermark ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Generate for social media platforms. ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Change visualizer sensitivity ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Share link to visualizer ")])],1)],1)],1)],1),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{outlined:"",rounded:"",disabled:""}},[t._v(" Coming soon ")])],1)],1)],1)],1):t._e()],1)],1)],1)}),v=[],f=(i(4916),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",t._l(t.templates,(function(e){return i("v-col",{key:e.name,staticClass:"ml-1",attrs:{md:"2"}},[i("v-card",{attrs:{"max-width":"200",color:t.active||e.name===t.selected?"primary":""},on:{click:function(i){return t.$store.commit("templateSelected",e.name)}}},[i("v-img",{staticClass:"grey lighten-2 white--black align-end",attrs:{"max-height":"200",src:"/img/templates/"+e.preview,"lazy-src":"/img/templates/"+e.preview,"aspect-ratio":"1",gradient:"to bottom left, rgba(100,115,201,.33), rgba(25,32,72,.7)"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[i("v-card-title",{staticClass:"font-weight-black white--text text-uppercase"},[t._v(" "+t._s(e.name)+" ")]),i("v-card-subtitle",{staticClass:"text-uppercase white--text"},[t._v(" "+t._s(e.description)+" ")])],1),i("v-card-actions",[i("v-btn",{attrs:{text:""},on:{click:function(i){return t.$store.commit("templateSelected",e.name)}}},[t.selected===e.name?i("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-check ")]):t._e(),t._v(" select ")],1),i("v-row",{staticClass:"pr-4",attrs:{align:"center",justify:"end"}})],1)],1)],1)})),1)}),b=[],w={name:"Templates",data:function(){return{model:!0,active:!1}},computed:{templates:function(){return this.$store.state.templates},selected:function(){return this.$store.state.template}}},y=w,C=i(1001),x=i(3453),V=i.n(x),T=i(3150),S=i(3237),k=i(7118),R=i(2102),L=i(6428),I=i(7047),_=i(624),A=i(2877),M=(0,C.Z)(y,f,b,!1,null,"69b35f02",null),B=M.exports;V()(M,{VBtn:T.Z,VCard:S.Z,VCardActions:k.h7,VCardSubtitle:k.Qq,VCardTitle:k.EB,VCol:R.Z,VIcon:L.Z,VImg:I.Z,VProgressCircular:_.Z,VRow:A.Z});var z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("stripe-checkout",{ref:"checkoutRef",attrs:{mode:"payment",pk:t.publishableKey,"line-items":t.lineItems,"success-url":t.successURL,"cancel-url":t.cancelURL},on:{loading:function(e){return t.loading=e}}}),i("button",{on:{click:t.submit}},[t._v("Pay now!")])],1)},P=[],E=i(1804),Z={components:{StripeCheckout:E.ki},data:function(){return this.publishableKey={NODE_ENV:"production",BASE_URL:"/"}.STRIPE_PUBLISHABLE_KEY,{loading:!1,lineItems:[{price:"some-price-id",quantity:1}],successURL:"your-success-url",cancelURL:"your-cancel-url"}},methods:{submit:function(){this.$refs.checkoutRef.redirectToCheckout()}}},O=Z,F=(0,C.Z)(O,z,P,!1,null,null,null),$=F.exports,N={name:"Setting",components:{Stripe:$,Templates:B},data:function(){return{tab:null,title:"helloworld",subtitle:null,color:"hex",emblem:null,background:null,sound:null,notifications:!1,record:!0,widgets:!1,rules:[function(t){return!t||t.size<2e9||"File size should be less than 2000000000."}]}},computed:{dialog:function(){return this.$store.state.settings},visualizer:function(){return this.$store.state.visualizer},camera:{set:function(t){this.$store.dispatch("toggleCamera",t)},get:function(){return this.$store.state.options.camera.move}}},methods:{save:function(){this.$emit("reCreate"),this.$store.dispatch("changeText",{title:this.title,subtitle:this.subtitle}),this.$store.dispatch("toggleDialog",!1),this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},soundSelected:function(t){console.log(t),this.$store.dispatch("setSound",t)},backgroundSelected:function(t){this.$store.dispatch("setBackground",t)},emblemSelected:function(t){this.$store.dispatch("setEmblem",t)},cameraChanged:function(){this.$store.dispatch("toggleCamera",this.camera)},colorSelected:function(t){console.log(t,"selected");var e=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};this.$store.dispatch("setColor",e(t.hex))},setLightColor:function(t){var e=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};this.$store.dispatch("setLight",e(t.hex))}}},H=N,D=i(9593),j=i(5803),U=i(3065),G=i(6816),q=i(7620),Y=i(3013),K=i(7874),W=i(459),J=i(4227),Q=i(1759),X=i(817),tt=i(1954),et=i(9547),it=(0,C.Z)(H,p,v,!1,null,"4be9b178",null),nt=it.exports;V()(it,{VBtn:T.Z,VCard:S.Z,VCardActions:k.h7,VCardSubtitle:k.Qq,VCardTitle:k.EB,VCol:R.Z,VColorPicker:D.Z,VDialog:j.Z,VFileInput:U.Z,VIcon:L.Z,VList:G.Z,VListItem:q.Z,VListItemContent:Y.km,VListItemGroup:K.Z,VListItemIcon:W.Z,VListItemTitle:Y.V9,VRow:A.Z,VTab:J.Z,VTabItem:Q.Z,VTabs:X.Z,VTabsItems:tt.Z,VTextField:et.Z});var ot,rt,at=i(8932);i(2222),i(8783),i(3948),i(285),i(1637);function st(t){console.log("handleDataAvailable",t),t.data&&t.data.size>0&&rt.push(t.data)}var lt,ct,ht,ut,mt,dt,gt,pt,vt,ft={stop:function(){"undefined"!==typeof ot&&ot.stop()},record:function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(e,i){var n,o,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:rt=[],n={mimeType:"video/webm;codecs=vp9,opus"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error("".concat(n.mimeType," is not supported")),n={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error("".concat(n.mimeType," is not supported")),n={mimeType:"video/webm"},MediaRecorder.isTypeSupported(n.mimeType)||(console.error("".concat(n.mimeType," is not supported")),n={mimeType:""}))),t.prev=3,o=new MediaStream([].concat((0,at.Z)(e.getTracks()),(0,at.Z)(i.getTracks()))),ot=new MediaRecorder(o,n),t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](3),console.error("Exception while creating MediaRecorder:",t.t0),t.abrupt("return");case 12:console.log("Created MediaRecorder",ot,"with options",n),ot.onstop=function(t){console.log("Recorder stopped: ",t),console.log("Recorded Blobs: ",rt),r.download()},ot.ondataavailable=st,ot.start(),console.log("MediaRecorder started",ot);case 17:case"end":return t.stop()}}),t,null,[[3,8]])})));function e(e,i){return t.apply(this,arguments)}return e}(),start:function(){var t=(0,c.Z)(regeneratorRuntime.mark((function t(e,i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.record(e,i);case 1:case"end":return t.stop()}}),t,this)})));function e(e,i){return t.apply(this,arguments)}return e}(),download:function(){var t=new Blob(rt,{type:"video/webm"}),e=window.URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=e,i.download="wave.denzyl.io.webm",document.body.appendChild(i),i.click(),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(e)}),100)}},bt=ft,wt=300,yt=300,Ct=200,xt=0,Vt=0,Tt=0,St={setCoordinates:function(t,e,i){xt=t,Vt=e,Tt=i,this.initialZ=Tt},setScale:function(t,e,i){wt=t,yt=e,Ct=i},render:function(t){var e=t.reduce((function(t,e){return t+e}));lt.scaling.x=.08*e+wt,lt.scaling.y=.08*e+yt,ct.maxAngularSpeed=.3*t[23],ct.emitRate=1e3+100*t[32],ct.color1=l.Color3.FromInts(.01*t[32],0,0)},init:function(t,e){var i=new l.StandardMaterial("texturePlane",t);i.diffuseTexture=new l.Texture(e.emblem,t),i.specularTexture=new l.Texture(e.emblem,t),i.emissiveTexture=new l.Texture(e.emblem,t),i.ambientTexture=new l.Texture(e.emblem,t),i.diffuseTexture.hasAlpha=!0,i.transparencyMode=l.Material.MATERIAL_ALPHATESTANDBLEND,i.useAlphaFromDiffuseTexture=!0,i.backFaceCulling=!0,i.diffuseColor=l.Color3.FromInts(0,200,0),lt=l.MeshBuilder.CreatePlane("plane",{},t),lt.material=i,lt.position=new l.Vector3(xt,Vt,Tt),lt.scaling=new l.Vector3(wt,yt,Ct),ct=new l.ParticleSystem("particles",500,t),ct.particleTexture=new l.Texture("/img/templates/Smoke30Frames.png",t),ct.emitter=lt,ct.minEmitBox=new l.Vector3(-1,-1,0),ct.color1=l.Color3.FromInts(255,0,10),ct.minSize=1,ct.maxSize=20,ct.minLifeTime=.1,ct.maxLifeTime=5,ct.emitRate=1e3,ct.gravity=new l.Vector3(0,0,-10),ct.direction1=new l.Vector3(0,0,-1),ct.direction2=new l.Vector3(0,0,-1),ct.minAngularSpeed=0,ct.maxAngularSpeed=10,ct.minEmitPower=1,ct.maxEmitPower=10,ct.updateSpeed=.005,ct.start()},getPlane:function(){return lt}},kt={render:function(t){if(console.log("alpha",ht.alpha,"beta",ht.beta,"radius",ht.radius),"undefined"!==typeof ut&&!1===ut.options.camera.move){console.log("alpha",ht.alpha,"beta",ht.beta,"radius",ht.radius);var e=9e-4*t;ht.radius=this.initialRadius-t,ht.alpha=this.initialAlpha+e,ht.beta=this.initialBeta+.002*t}},init:function(t,e){ut=e,ht=t,this.initialRadius=ht.radius,this.initialBeta=ht.beta,this.initialAlpha=ht.alpha}},Rt=[],Lt=[],It={render:function(t,e){St.render(t);for(var i=0;i<Rt.length;i++){var n=Rt[i];n.scaling.z=1.9*t[i]}for(var o=0;o<Lt.length;o++){var r=Lt[o],a=255-Math.abs(.3*t[o]),s=Math.abs(.3*t[o]),c=Math.abs(.3*t[o]);r.diffuse=l.Color3.FromInts(a,s,c)}},init:function(t,e,i,n,o,r,a,s){kt.init(t,s),Lt.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,500,10),n)),St.setCoordinates(0,250,0),St.init(n,s),t.lockedTarget=St.getPlane(),r=500;var c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.ambientColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),c.material=h;for(var u=10,m=0;m<u;m++){var d=c.createInstance("box1");d.position=new l.Vector3(+o/2+20,50*m,a),d.scaling=new l.Vector3(10,10,o),Rt.push(d)}for(var g=0;g<u;g++){var p=c.createInstance("box1");p.position=new l.Vector3(-o/2-20,50*g,a),p.scaling=new l.Vector3(10,10,o),Rt.push(p)}for(var v=0;v<u;v++){var f=c.createInstance("box1");f.position=new l.Vector3(-o/2+50*v,r+20,0),f.scaling=new l.Vector3(10,10,o),Rt.push(f)}for(var b=0;b<u;b++){var w=c.createInstance("box1");w.position=new l.Vector3(-o/2+50*b,-20,0),w.scaling=new l.Vector3(10,10,o),Rt.push(w)}}},_t=It,At=200,Mt=10,Bt={render:function(t,e){St.render(t);e.colors;for(var i=0;i<this.elements.length;i++){var n=this.elements[i];n.position.y=1.2*i+.5*Math.abs(t[i])}mt.position.z=0+.04*t[20],!1===e.options.camera.move&&(this.camera.alpha=At,this.camera.beta=Math.PI/(2+.003*t[3]),this.camera.radius=500)},init:function(t,e,i,n,o,r,a,s){this.camera=t,this.elements=[];var c=new l.DirectionalLight("DirectionalLight",new l.Vector3(0,-1,0),n);c.diffuse=l.Color3.FromInts(s.light.r,s.light.g,s.light.b),c.specular=l.Color3.FromInts(s.light.r,s.light.g,s.light.b),St.setCoordinates(200,200,0),St.init(n,s),mt=St.getPlane();var h=l.MeshBuilder.CreateSphere("box",{},n),u=new l.StandardMaterial("texture1",n);u.ambientColor=new l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),h.material=u;for(var m=100,d=Mt,g=Mt,p=Mt,v=0,f=v,b=10,w=b,y=0,C=null,x=0;x<m;x++){C=0===x?h.createInstance("box1"):h.clone("box1");var V=new l.Vector3(f,w,y);C.position=V,b/2===x&&(mt.position=new l.Vector3(f,250,y),this.camera.setTarget(new l.Vector3(f,250,y))),C.scaling=new l.Vector3(d,g,p),this.elements.push(C),x%b===0?f=v:f+=d+25}}},zt=Bt,Pt=10,Et={render:function(t,e){if("undefined"!==typeof this.bar){St.render(t,e);var i=t[t.length-Math.ceil(t.length/10)];kt.render(i);for(var n=0;n<this.bar.length;n++){Math.abs(t[n])+100;var o=this.bar[n];o.scaling.y=3.5*t[n],o.position.z=.5*t[n];var r=Math.abs(t[32]);console.log(r,400-r/2)}for(var a=0;a<this.lights.length;a++){var s=this.lights[a],c=255,h=0,u=0;console.log("Lights",c,h,u),s.position.z=s.position.z*t[a],s.specular=new l.Color3(1,0,0)}}},init:function(t,e,i,n,o,r,a,s){kt.init(t,s),this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,this.bar=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,Pt),n),new l.PointLight("HemiLight",new l.Vector3(0,0,-Pt),n));var c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),c.material=h;for(var u=80,m=40,d=-(u/2*m+10),g=0;g<u;g++){var p=c.createInstance("box1");d+=m,p.position=new l.Vector3(d,-200,0),p.scaling=new l.Vector3(10,0,10),this.bar.push(p)}var v=u*(m+10)/2-2e3;St.setCoordinates(v,500,-100),St.setScale(1e3,1e3,0),St.init(n,s),t.lockedTarget=St.getPlane()}},Zt=Et,Ot={render:function(t,e){St.render(t)},init:function(t,e,i,n,o,r,a,s){this.camera=t,this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,0),n),new l.PointLight("HemiLight",new l.Vector3(0,0,0),n)),St.setCoordinates(0,250,0),St.init(n,s),this.camera.lockedTarget=St.getPlane()}},Ft=Ot,$t=0,Nt={render:function(t,e){St.render(t),this.camera.alpha=this.camera.alpha+$t*Math.PI;var i=t.reduce((function(t,e){return t+e}));if(this.lights.length>0)for(var n=0;n<this.lights.length;n++);for(var o=0;o<this.linesHorizontal.length;o++)this.linesHorizontal[o].position.x=Math.tan($t)*o*.08,console.log(),this.linesHorizontal[o].position.z=300-8e-4*i,this.linesHorizontal[o].scaling.x=1e3-1.9*t[o];for(var r=0;r<this.linesVertical.length;r++)this.linesVertical[r].scaling.y=1e3-1.99*t[r],this.linesVertical[r].position.z=300-8e-4*i},init:function(t,e,i,n,o,r,a,s){this.camera=t;var c=new l.Animation("camRadius","radius",7,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_CYCLE),h=[{frame:0,value:1e3},{frame:100,value:800}];c.setKeys(h);this.camera.alpha;var u=new l.Animation("camAlpha","alpha",60,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_RELATIVE),m=[{frame:0,value:0},{frame:100,value:1.8}];u.setKeys(m);var d=new l.Animation("camBeta","beta",10,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE__CYCLE),g=this.camera.beta,p=[{frame:0,value:g},{frame:50,value:1.8},{frame:100,value:g}];d.setKeys(p),this.camera.animations.push(c),this.camera.animations.push(d),n.beginAnimation(this.camera,0,100,!0),this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(500,0,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(-500,0,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,500,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,-500,-200),n)),St.setCoordinates(0,250,0),St.init(n,s),this.camera.lockedTarget=St.getPlane(),this.linesHorizontal=[],this.linesVertical=[];var v=l.MeshBuilder.CreateBox("box",{},n),f=new l.StandardMaterial("texture1",n);f.emissiveColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),f.diffuseColor=l.Color3.FromInts(255,0,40),v.material=f;for(var b=-400,w=-1e3,y=0;y<=40;y++){var C=v.createInstance("box1");C.scaling=new l.Vector3(1e3,40,10),C.position=new l.Vector3(0,b+80*y,100),this.linesHorizontal.push(C)}for(var x=0;x<=40;x++){var V=v.createInstance("line1");V.scaling=new l.Vector3(40,1e3,10),V.position=new l.Vector3(w+80*x,0,100),this.linesVertical.push(V)}}},Ht=Nt,Dt=10,jt=null,Ut=[],Gt={render:function(t,e){if(null!==jt){var i=t[t.length-Math.ceil(t.length/10)];if(!1===e.options.camera.move){.02;var n=9e-4*i;console.log(n,"number"),jt.radius=this.initialRadius-i,jt.alpha=this.initialAlpha+n,jt.beta=this.initialBeta+n}St.render(t);for(var o=0;o<this.bar.length;o++){var r=t[t.length-o];this.bar[o].scaling.x=r*(0===o?.9:.03*o),this.bar[o].scaling.y=r*(0===o?.9:.8*o),this.bar[o].position.z=.8*t[o]+10,console.log(Ut["right"+o].x,o),this.bar[o].position.x=Ut["right"+o].x+o*(.009*r)}for(var a=0;a<this.barTop.length;a++)this.barTop[a].scaling.y=t[t.length-a]*(0===a?.9:.03*a),this.barTop[a].scaling.x=t[t.length-a]*(0===a?.9:.8*a),this.barTop[a].position.z=-(.8*t[a]+10);for(var s=0;s<this.barBottom.length;s++)this.barBottom[s].scaling.y=t[t.length-s]*(0===s?.9:.03*s),this.barBottom[s].scaling.x=t[t.length-s]*(0===s?.9:.8*s),this.barBottom[s].position.z=-(.8*t[s]+10);for(var c=0;c<this.barRight.length;c++)this.barRight[c].scaling.x=t[t.length-c]*(0===c?.9:.03*c),this.barRight[c].scaling.y=t[t.length-c]*(0===c?.9:.8*c),this.barRight[c].position.z=.8*t[c]+10;for(var h=0;h<this.lights.length;h++){var u=this.lights[h],m=255-Math.abs(.3*t[h]),d=Math.abs(.3*t[h]),g=Math.abs(.3*t[h]);console.log(m,d,g),u.diffuse=l.Color3.FromInts(m,d,g)}}},init:function(t,e,i,n,o,r,a,s){jt=t,kt.init(t,s),St.init(n,s),t.lockedTarget=St.getPlane(),this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,this.bar=[],this.barTop=[],this.barBottom=[],this.barRight=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,Dt),n),new l.PointLight("HemiLight",new l.Vector3(0,0,-Dt),n));var c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),c.material=h;for(var u=20,m=0,d=10,g=1,p=0,v=0;v<u;v++){var f=c.createInstance("box1");f.position=new l.Vector3(m+g,10,p),f.scaling=new l.Vector3(1,1,10),Ut["right"+v]={x:f.position.x},console.log(v,"init"),this.bar.push(f),m+=50}m=St.getPlane().position.x;for(var b=0;b<u;b++){var w=c.createInstance("box1");w.position=new l.Vector3(m+g,d,p),w.scaling=new l.Vector3(1,1,10),this.barRight.push(w),m+=-50}d=St.getPlane().position.y;for(var y=0;y<u;y++){var C=c.createInstance("box11");C.position=new l.Vector3(0,d+g,0),d+=50,C.scaling=new l.Vector3(1,1,10),this.barTop.push(C)}d=St.getPlane().position.y;for(var x=0;x<u;x++){var V=c.createInstance("box11");V.position=new l.Vector3(0,d+g,0),d+=-50,V.scaling=new l.Vector3(1,1,10),this.barBottom.push(V)}}},qt=Gt,Yt=0,Kt=400,Wt={render:function(t,e){St.render(t),!1===e.options.camera.move&&(dt.alpha=Math.cos(Yt/50),dt.beta=3*(Math.PI/200+Math.sin(Yt/50)),dt.radius=2e3-t[40],Yt+=.02),gt.scaling.x=Kt+.2*t[1],gt.scaling.y=Kt+.2*t[1];for(var i=0;i<this.bar.length;i++){var n=t.length-1,o=void 0;o=i<=this.bar.length/2?n-i-10:n-(this.bar.length-i)-10;for(var r=t[o],a=0;a<this.bar[i].path.length;a++)1===a&&(this.bar[i].path[a].y=gt.scaling.y/2+.9*r);this.bar[i].mesh=l.Mesh.CreateRibbon(null,[this.bar[i].path],!0,!1,0,this.scene,!0,null,this.bar[i].mesh)}for(var s=0;s<this.barTop.length;s++){var c=t.length-1,h=void 0;h=s<=this.barTop.length/2?c-s-10:c-(this.barTop.length-s)-10;for(var u=t[h],m=0;m<this.barTop[s].path.length;m++)1===m&&(this.barTop[s].path[m].x=gt.scaling.x/2+.9*u);this.barTop[s].mesh=l.Mesh.CreateRibbon(null,[this.barTop[s].path],!0,!1,0,this.scene,!0,null,this.barTop[s].mesh)}for(var d=0;d<this.barBottom.length;d++){var g=t.length-1,p=void 0;p=d<=this.barBottom.length/2?g-d-10:g-(this.barBottom.length-d)-10;for(var v=t[p],f=0;f<this.barBottom[d].path.length;f++)2===f&&(this.barBottom[d].path[f].y=gt.position.y-gt.scaling.y/2-.9*v);this.barBottom[d].mesh=l.Mesh.CreateRibbon(null,[this.barBottom[d].path],!0,!1,0,this.scene,!0,null,this.barBottom[d].mesh)}for(var b=0;b<this.barRight.length;b++){var w=t.length-1,y=void 0;y=b<=this.barRight.length/2?w-b-10:w-(this.barRight.length-b)-10;for(var C=t[y],x=0;x<this.barRight[b].path.length;x++)1===x&&(this.barRight[b].path[x].x=gt.position.x-gt.scaling.x/2-.9*C);this.barRight[b].mesh=l.Mesh.CreateRibbon(null,[this.barRight[b].path],!0,!1,0,this.scene,!0,null,this.barRight[b].mesh)}},init:function(t,e,i,n,o,r,a,s){this.scene=n,dt=t,this.bar=[],this.barTop=[],this.barBottom=[],this.barRight=[],this.camera=t,this.lights=[],this.lights.push(),St.setCoordinates(0,0,0),St.init(n,s),gt=St.getPlane();var c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),c.material=h;var u=20,m=0,d=10;m=gt.position.x+gt.scaling.x/2,d=gt.position.y+gt.scaling.y/2+25;for(var g=0;g<u;g++){var p=0;pt=gt.scaling.x/u;var v=[new l.Vector3(m,d,p),new l.Vector3(m-pt/2,d,p),new l.Vector3(m-pt,d,p)],f=l.Mesh.CreateRibbon("hex"+g,[v],!0,!1,0,n,!0);f.material=h,this.bar.push({mesh:f,path:v}),m-=pt}d=gt.scaling.y/2,m=gt.position.x-gt.scaling.x/2-25;for(var b=0;b<u;b++){var w=0,y=[new l.Vector3(m,d,w),new l.Vector3(m-pt/2,d-pt/2,w),new l.Vector3(m,d-pt,w)],C=l.Mesh.CreateRibbon("hex"+b,[y],!0,!1,0,n,!0);C.material=h,this.barRight.push({mesh:C,path:y}),d-=pt}m=gt.position.x-gt.scaling.x/2,d=gt.position.y-gt.scaling.y/2-25,pt=gt.scaling.y/u;for(var x=0;x<u;x++){var V=0,T=[new l.Vector3(m,d,V),new l.Vector3(m+pt,d,V),new l.Vector3(m+pt/2,d,V)],S=l.Mesh.CreateRibbon("hex"+x,[T],!0,!1,0,n,!0);S.material=h,this.barBottom.push({mesh:S,path:T}),m+=pt}m=gt.position.x+gt.scaling.x/2+25,d=gt.position.y+gt.scaling.y/2,pt=gt.scaling.y/u,d-=pt;for(var k=0;k<u;k++){var R=0,L=[new l.Vector3(m,d,R),new l.Vector3(m+pt/2,d+pt/2,R),new l.Vector3(m,d+pt,R)],I=l.Mesh.CreateRibbon("hex"+k,[L],!0,!1,0,n,!0);I.material=h,this.barTop.push({mesh:I,path:L}),d-=pt}}},Jt=Wt,Qt=null,Xt={render:function(t,e){if(null!==Qt){St.render(t);var i=t[t.length-Math.ceil(t.length/10)];if(!1===e.options.camera.move){.02;var n=5e-5*i;console.log(n,"number"),Qt.radius=this.initialRadius-i,Qt.alpha=this.initialAlpha+n,Qt.beta=this.initialBeta+n}e.colors;for(var o=0;o<this.bar.length;o++){var r=this.bar[o];if(!0===r.vertical?r.scaling.y=.9*t[o]:r.scaling.x=.9*t[o],i<=255&&i>0){var a=Math.ceil(i+e.colors.r),s=Math.ceil(i+e.colors.g),c=Math.ceil(i+e.colors.b);r.material.diffuseColor=l.Color3.FromInts(a,s,c),r.material.specularColor=l.Color3.FromInts(a,s,c)}else r.material.ambientColor=l.Color3.FromInts(e.colors.r,e.colors.g,e.colors.b)}for(var h=0;h<this.lights.length;h++){var u=this.lights[h];if(i<=255&&i>0){var m=Math.ceil(i+e.light.r),d=Math.ceil(i+e.light.g),g=Math.ceil(i+e.light.b);console.log(i,m,d,g),u.difuse=l.Color3.FromInts(m,d,g),u.specular=l.Color3.FromInts(m,d,g)}}}},init:function(t,e,i,n,o,r,a,s){this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,Qt=t,this.bar=[],this.lights=[];var c=new l.DirectionalLight("light1",new l.Vector3(0,250,-10),n);c.position=new l.Vector3(0,250,10),c.intensity=.1,this.lights.push(c),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,0,10),n)),St.setCoordinates(0,250,0),St.init(n,s),Qt.lockedTarget=St.getPlane(),r=500;var h=l.MeshBuilder.CreateBox("box",{},n),u=new l.StandardMaterial("texture1",n);u.ambientColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),h.material=u;for(var m=10,d=100,g=0;g<m;g++){var p=h.createInstance("box1");p.position=new l.Vector3(+o/2+20,50*g,d/2),p.scaling=new l.Vector3(10,10,d),this.bar.push(p)}for(var v=0;v<m;v++){var f=h.createInstance("box1");f.position=new l.Vector3(-o/2-20,50*v,d/2),f.scaling=new l.Vector3(10,10,d),this.bar.push(f)}for(var b=0;b<m;b++){var w=h.createInstance("box1");w.position=new l.Vector3(-o/2+50*b,r+20,d/2),w.scaling=new l.Vector3(10,10,d),w.vertical=!0,this.bar.push(w)}for(var y=0;y<m;y++){var C=h.createInstance("box1");C.position=new l.Vector3(-o/2+50*y,-20,d/2),C.scaling=new l.Vector3(10,10,d),C.vertical=!0,this.bar.push(C)}}},te=Xt,ee=-1,ie=-1,ne=-1,oe=30,re=oe/2,ae=20,se=-400;ne=se;var le=-200;ie=le;var ce=0,he=-150-2*oe;ee=he;var ue={render:function(t,e){!1===e.options.camera.move&&(vt.alpha=Math.cos(ce/50),vt.beta=3*(Math.PI/200+Math.sin(ce/50)),ce+=.02);for(var i=0;i<this.bar.length;i++){this.bar[i].element;var n=this.bar[i].originalX,o=this.bar[i].originalY,r=(this.bar[i].originalZ,t.reduce((function(t,e){return t+e})),this.bar[i].row),a=this.bar[i].column,s=Math.floor(t.length/r+a),c=t[s];console.log(c,i,r,a,s),n<0?(this.bar[i].element.position.y=o+c,this.bar[i].element.position.x=n-.9*c):(this.bar[i].element.position.y=o+c,this.bar[i].element.position.x=n+.9*c)}for(var h=0;h<this.lights.length;h++){var u=this.lights[h],m=Math.ceil(.3*t[t.length-h]),d=Math.ceil(.3*t[h]),g=Math.ceil(.3*t[h]);u.ambientColor=l.Color3.FromInts(m,d,g)}},init:function(t,e,i,n,o,r,a,s){vt=t,this.bar=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,500,10),n)),St.init(n,s);var c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.ambientColor=l.Color3.FromInts(s.colors.r,s.colors.g,s.colors.b),c.material=h;for(var u=0;u<=2;u++){for(var m=0;m<=ae/2;m++){for(var d=0;d<=ae;d++){var g=c.createInstance("box_"+m+"_"+d);g.position.x=ee,g.position.y=ne,g.position.z=ie,g.scaling.x=oe,g.scaling.y=oe,g.scaling.z=oe,this.bar.push({row:d,column:m,grid:u,originalX:g.position.x,originalY:g.position.y,originalZ:g.position.z,element:g}),ie+=oe+re}ie=le,ne=se+m*(oe+re)}ie=0,ne=se,ee=150+2*oe}}},me=ue,de=i(3689),ge={init:function(t,e,i){this.title=e,this.subtitle=i;var n=de.AdvancedDynamicTexture.CreateFullscreenUI("UI"),o=new de.TextBlock;o.text=e,o.color="white",o.fontSize=80,o.textHorizontalAlignment=de.Control.HORIZONTAL_ALIGNMENT_LEFT,o.textVerticalAlignment=de.Control.VERTICAL_ALIGNMENT_BOTTOM,o.paddingBottom=60,o.paddingLeft=60,o.outlineColor="black",o.outlineWidth=3;var r=new de.TextBlock;r.text=i,r.color="white",r.fontSize=40,r.textHorizontalAlignment=de.Control.HORIZONTAL_ALIGNMENT_LEFT,r.textVerticalAlignment=de.Control.VERTICAL_ALIGNMENT_BOTTOM,r.paddingBottom=30,r.paddingLeft=60,r.outlineColor="black",r.outlineWidth=3,n.addControl(r),n.addControl(o)},render:function(){}},pe={name:"Home",props:{},computed:{template:function(){return this.$store.state.template},options:function(){return this.$store.state.options},player:{set:function(t){this.$store.dispatch("toggleVisualizer",t)},get:function(){return this.$store.state.visualizer}},soundFile:function(){return this.$store.state.file},backgroundFile:function(){return this.$store.state.background},config:function(){return this.$store.state}},data:function(){return{active:!0,audio:null,paywall:!1,t:.1,playing:!0,camera:null,alpha:0,fft:[],fftSize:128,multiplierValue:0}},watch:{play:function(t){console.log(t,"Playing")},multiplierValue:function(t){console.table(t)}},methods:{reCreate:function(){this.stopSound(),console.log("recreating"),this.scene.dispose(),this.scene=null,this.mountScene()},close:function(){this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},stopSound:function(){var t=this;this.$store.dispatch("toggleDialog",!0),this.audio.stop((function(){t.scene.dispose(),t.engine.stopRenderLoop(),bt.stop()})),this.playing=!0},playSound:function(t){var e=this;this.$store.dispatch("toggleRecording",!0),setTimeout((function(){e.$store.dispatch("toggleSetting",!1),e.$store.dispatch("toggleDialog",!1),e.playing=!1,e.audio.nodes(),e.audio.play((function(){bt.start(e.canvas.captureStream(),e.audio.getStream())}))}),1e3)},createScene:function(){this.scene=new l.Scene(this.engine);new l.PointLight("Omni",new l.Vector3(0,0,100),this.scene);this.scene.ambientColor=new l.Color3(1,1,1),this.scene.createDefaultLight(),this.alpha=0,this.scene.beforeRender=this.beforeRender()},initTemplate:function(t,e,i,n,o,r,a){console.log(this.config.title,this.config.subtitle,"text"),ge.init(i,this.config.title,this.config.subtitle),"wave"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.5818537106894,1.4668188650771874,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),_t.init(this.camera,t,e,i,o,r,a,this.config)),"circles"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",359,1,100,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),zt.init(this.camera,t,e,i,o,r,a,this.config)),"simple"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.7128865236034,1.5560509844479748,2099.9806795259265,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Zt.init(this.camera,t,e,i,o,r,a,this.config)),"cover"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Ft.init(this.camera,t,e,i,o,r,a,this.config)),"lines"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Ht.init(this.camera,t,e,i,o,r,a,this.config)),"expanded"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.49133056932953,1.5894367329793362,2219.98177450843,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),qt.init(this.camera,t,e,i,o,r,a,this.config)),"triangle"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",359,1,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Jt.init(this.camera,t,e,i,o,r,a,this.config)),"immersive"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),te.init(this.camera,t,e,i,o,r,a,this.config)),"cube"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,400,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),me.init(this.camera,t,e,i,o,r,a,this.config))},render:function(){null!==this.scene&&this.scene.render();var t=this.audio.getFtt();null!==t&&("wave"===this.template&&_t.render(t,this.config),"circles"===this.template&&zt.render(t,this.config),"simple"===this.template&&Zt.render(t,this.config),"cover"===this.template&&Ft.render(t,this.config),"lines"===this.template&&Ht.render(t,this.config),"expanded"===this.template&&qt.render(t,this.config),"triangle"===this.template&&Jt.render(t,this.config),"immersive"===this.template&&te.render(t,this.config),"cube"===this.template&&me.render(t,this.config))},beforeRender:function(){this.alpha+=this.multiplierValue},mountScene:function(){var t=this;this.audio=new g(128),this.canvas=document.getElementById("renderCanvas"),this.engine=new l.Engine(this.canvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.createScene(),this.engine.runRenderLoop(this.render),window.addEventListener("resize",(function(){t.engine.resize()})),this.createBackground(),this.initTemplate(10,600,this.scene,this.options.bars.x,this.options.bars.y,this.options.bars.z)},createBackground:function(){new l.Layer("ad",this.config.background,this.scene,!0)}},components:{Setting:nt},mounted:function(){this.mountScene()}},ve=pe,fe=i(1165),be=i(3631),we=i(6053),ye=(0,C.Z)(ve,a,s,!1,null,null,null),Ce=ye.exports;V()(ye,{VBottomSheet:fe.Z,VBtn:T.Z,VCard:S.Z,VIcon:L.Z,VList:G.Z,VListItem:q.Z,VListItemContent:Y.km,VListItemIcon:W.Z,VListItemTitle:Y.V9,VSpacer:be.Z,VTooltip:we.Z});i(6699),i(2023),i(4765),i(8862),i(8264),i(8309);var xe=null;try{xe=new WebSocket("ws://localhost:8080/ws")}catch(je){console.error(je)}for(var Ve="",Te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Se=Te.length,ke=0;ke<32;ke++)Ve+=Te.charAt(Math.floor(Math.random()*Se));Ve=Te;var Re={start:function(){xe.onopen=function(){!1===window.location.search.includes("disablesocket")&&xe.send(JSON.stringify({state:"REGISTERING_CLIENT",data:{key:Ve}}))},xe.onmessage=function(t){console.log(t.data);var e=JSON.parse(t.data);e.state}},send:function(t){xe.send(JSON.stringify(t))},startRecording:function(t){if(null===t)return null;this.send({state:"BROADCAST",data:{key:Ve,action:"record"}});var e=new FileReader,i=new ArrayBuffer;e.onload=function(e){i=e.target.result,xe.send(JSON.stringify({state:"BROADCAST",data:{key:Ve,action:"UPLOAD_DATA",sound:{file:{name:t.name},data:new Uint8Array(i)}}}))}.bind(this),e.readAsArrayBuffer(t)}},Le={name:"App",components:{Setting:nt,Home:Ce},data:function(){return{loading:!1,selection:1,play:!1}},computed:{dialog:{set:function(t){},get:function(){return this.$store.state.dialog}}},methods:{close:function(){this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},reserve:function(){var t=this;this.loading=!0,setTimeout((function(){return t.loading=!1}),2e3)}},mounted:function(){document.getElementById("globalLoader").style.display="none"}},Ie=Le,_e=i(7524),Ae=(0,C.Z)(Ie,o,r,!1,null,null,null),Me=Ae.exports;V()(Ae,{VApp:_e.Z});var Be=i(5205);(0,Be.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var ze=i(8345);n["default"].use(ze.Z);var Pe=[{path:"/about",name:"About",component:function(){return i.e(443).then(i.bind(i,5189))}}],Ee=new ze.Z({routes:Pe}),Ze=Ee,Oe=i(629);n["default"].use(Oe.ZP),Re.start();var Fe=new Oe.ZP.Store({state:{template:"lines",templates:[{name:"simple",preview:"simple.png",description:"Row of bars that expand.",price:"0",priceId:null,configuration:{}},{name:"lines",preview:"",description:"Lines",price:"0",priceId:null,configuration:{}},{name:"wave",preview:"wave.png",description:"Row of bars that circles your logo.",price:1.99,priceId:"prod_KT8EgUlY0EcvMH",configuration:{}},{name:"circles",preview:"circles.png",description:"This one is in beta.",price:3.99,configuration:{}},{name:"cover",preview:"cover.png",description:"Moving album cover.",price:.99,configuration:{}},{name:"expanded",preview:"expanded.png",description:"Bars will appear on every direction.",price:10.99,configuration:{elements:{top:{},left:{},right:{},bottom:{}}}},{name:"triangle",preview:"triangles.png",description:"Something with triangles.",price:5.99,configuration:{}},{name:"immersive",preview:"immersive.png",description:"",price:.3,configuration:{}},{name:"cube",preview:"cube.png",description:"",price:10,configuration:{}}],sizes:[{name:"Story",size:{x:1080,y:1920}},{name:"Post",size:{x:1080,y:1080}},{name:"Custom",size:{x:null,y:null}}],file:"/noterender.com.opus",title:"Welcome.",subtitle:"Generate your visualizer the easy way.",microphone:!1,emblem:"/img/logo.png",background:"/1080.jpg",colors:{b:255,g:56,r:0},light:{b:255,g:56,r:0},options:{emblem:{x:500,y:500,z:0},bars:{x:1,y:500,z:2},camera:{move:!1}},settings:!1,visualizer:!0,dialog:!0,recording:!1,soundFile:null},mutations:{enableDialog:function(t){t.dialog=!0},disableDialog:function(t){t.dialog=!1},enableSetting:function(t){t.settings=!0},disableSetting:function(t){t.settings=!1},enableVisualizer:function(t){t.visualizer=!0},disableVisualizer:function(t){t.visualizer=!1},enableRecording:function(t){t.recording=!0},disableRecording:function(t){t.recording=!1},setSound:function(t,e){t.file=e},setBackground:function(t,e){t.background=e},setEmblem:function(t,e){t.emblem=e},setBarRGB:function(t,e){t.colors=e},setLightRGB:function(t,e){t.light=e},templateSelected:function(t,e){t.template=e},disableCamera:function(t){t.options.camera.move=!1},enableCamera:function(t){t.options.camera.move=!0},changeText:function(t,e){t.title=e.title,t.subtitle=e.subtitle},setSoundFile:function(t,e){t.soundFile=e}},actions:{changeText:function(t,e){t.commit("changeText",e.title,e.subtitle)},setSound:function(t,e){var i=URL.createObjectURL(e);t.commit("setSound",i),t.commit("setSoundFile",e)},setBackground:function(t,e){var i=URL.createObjectURL(e);t.commit("setBackground",i)},setEmblem:function(t,e){var i=URL.createObjectURL(e);t.commit("setEmblem",i)},toggleSetting:function(t,e){e&&t.commit("enableSetting"),!1===e&&t.commit("disableSetting")},toggleVisualizer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e&&(e=!t.state),e&&t.commit("enableVisualizer"),!1===e&&t.commit("disableVisualizer")},toggleDialog:function(t,e){e&&t.commit("enableDialog"),!1===e&&t.commit("disableDialog")},toggleRecording:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e&&(e=!t.state),e){t.commit("enableRecording");var i=t.state.soundFile;!1===window.location.search.includes("disablesocket")&&Re.startRecording(i)}!1===e&&t.commit("disableRecording")},setColor:function(t,e){console.log(e,"color selected"),t.commit("setBarRGB",e)},setLight:function(t,e){t.commit("setLightRGB",e)},toggleCamera:function(t,e){e?t.commit("disableCamera"):t.commit("enableCamera")}},modules:{}}),$e=i(8209),Ne=i.n($e);n["default"].use(Ne());var He=new(Ne())({iconfont:"fa"}),De=i(7398);n["default"].use(De.ZP,{config:{id:"GTM-T4VDGKR"}}),n["default"].config.productionTip=!1,new n["default"]({router:Ze,store:Fe,vuetify:He,render:function(t){return t(Me)}}).$mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,r){if(!n){var a=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],r=t[h][2];for(var s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(s=!1,r<a&&(a=r));if(s){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[n,o,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/about-legacy.ed6dbcfc.js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="noterender:";i.l=function(n,o,r,a){if(t[n])t[n].push(o);else{var s,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var u=c[h];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+r){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+r),s.src=n),t[n]=[o];var m=function(e,i){s.onerror=s.onload=null,clearTimeout(d);var o=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(i)})),e)return e(i)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){i.p="/"}(),function(){var t={143:0};i.f.j=function(e,n){var o=i.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(i,n){o=t[e]=[i,n]}));n.push(o[2]=r);var a=i.p+i.u(e),s=new Error,l=function(n){if(i.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,o[1](s)}};i.l(a,l,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,a=n[0],s=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var h=l(i)}for(e&&e(n);c<a.length;c++)r=a[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(h)},n=self["webpackChunknoterender"]=self["webpackChunknoterender"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2415)}));n=i.O(n)})();
//# sourceMappingURL=app-legacy.8aa2d801.js.map