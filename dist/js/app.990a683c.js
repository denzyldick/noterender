(function(){"use strict";var t={2415:function(t,e,i){var n=i(144),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("Home",{on:{playing:function(e){return t.dialog()},setting:function(e){t.setting=!0}}})],1)},s=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("Setting",{on:{click:t.close,reCreate:t.reCreate}}),i("div",{staticClass:"text-center"},[i("v-bottom-sheet",{attrs:{inset:""},model:{value:t.player,callback:function(e){t.player=e},expression:"player"}},[i("v-card",{attrs:{tile:""}},[i("v-list",[i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[i("img",{attrs:{src:"/img/logo.png",width:"50px/"}})])],1),i("v-spacer"),i("v-list-item-icon",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[i("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.$store.dispatch("toggleSetting",!0),t.visualizer=!1}}},[i("v-icon",[t._v("mdi-cog")])],1)],1)]}}])},[i("span",[t._v("Settings")])])],1),i("v-list-item-icon",{class:{"mx-4":t.$vuetify.breakpoint.mdAndUp}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",o,!1),n),[t.playing?i("v-btn",{attrs:{id:"playButton",icon:""},on:{click:function(e){return e.stopPropagation(),t.playSound.apply(null,arguments)}}},[i("v-icon",[t._v("mdi-play")])],1):t._e(),!1===t.playing?i("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.stopSound.apply(null,arguments)}}},[i("v-icon",[t._v("mdi-stop")])],1):t._e()],1)]}}])},[i("span",[t._v("Play example")])])],1)],1)],1)],1)],1)],1),i("div",{staticClass:"parent"},[t.active?i("canvas",{attrs:{id:"renderCanvas"},on:{click:function(e){return t.$store.dispatch("toggleVisualizer",!0)}}}):t._e(),i("audio",{staticStyle:{display:"none"},attrs:{controls:"",id:"audio",src:t.soundFile}})])],1)},r=[],l=i(5385);i(8675),i(3462);class c{constructor(t){this.fft=null,this.fftSize=t,this.initialized=!1,this.analyzer=null}nodes(){if(!1===this.initialized){this.context=new AudioContext;const t=document.getElementsByTagName("audio")[0];this.audioElement=t,console.log(typeof this.mediaSource),console.log(this.mediaSource),"undefined"===typeof this.mediaSource&&(this.mediaSource=this.context.createMediaElementSource(t)),this.analyzer=this.context.createAnalyser(),this.analyzer.fftSize=this.fftSize;const e=this.analyzer.frequencyBinCount;this.fft=new Uint8Array(e),this.mediaSource.connect(this.analyzer),this.analyzer.connect(this.context.destination),this.initialized=!0}}getFrequency(){if(null!==this.analyzer)return this.analyzer.getByteFrequencyData(this.fft)}onPause(t){return new Promise(t)}async stop(t){return"undefined"!==typeof this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0),new Promise(t)}play(t){return this.audioElement.play(),this.audioElement.currentTime=0,this.nodes(),new Promise(t)}getStream(){return this.audioElement.captureStream()}getFtt(){return this.getFrequency(),this.fft}}var h=c,u=(i(2001),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{attrs:{justify:"center"}},[i("v-dialog",{attrs:{transition:"dialog-upper-transition",fullscreen:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",[i("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab",[t._v(" Style ")]),i("v-tab",[t._v(" Sound ")]),i("v-tab",[t._v(" Branding ")]),i("v-tab",[t._v(" Last step ")])],1),i("v-tabs-items",[i("v-tab-item",[i("v-card",{attrs:{flat:""}},[i("v-card-title",[t._v(" Choose a style ")]),i("Templates")],1)],1)],1)],1),0===t.tab?i("Templates"):t._e(),1===t.tab?i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-card-title",[t._v("Sound source")]),i("v-card-subtitle",[t._v("Upload your own sound or use your microphone to record a real-time sound.")]),i("v-list-item",[i("v-list-item-content",[i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"audio/*","prepend-icon":"mdi-music",label:"Choose your sound.",outlined:"",dense:""},on:{change:function(e){return t.soundSelected(e)}},model:{value:t.sound,callback:function(e){t.sound=e},expression:"sound"}})],1)],1)],1)],1)],1):t._e(),2===t.tab?i("v-list",{attrs:{"three-line":"",subheader:""}},[i("v-card-title",[t._v("Branding")]),i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"image/png, image/jpeg, image/bmp","prepend-icon":"mdi-camera",label:"Choose a background.",outlined:"",dense:""},on:{change:function(e){return t.backgroundSelected(e)}},model:{value:t.background,callback:function(e){t.background=e},expression:"background"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-file-input",{attrs:{rules:t.rules,accept:"image/png, image/jpeg, image/bmp","prepend-icon":"mdi-camera",label:"Choose your a logo.",outlined:"",dense:""},on:{change:function(e){return t.emblemSelected(e)}},model:{value:t.emblem,callback:function(e){t.emblem=e},expression:"emblem"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Title",outlined:"",dense:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-text-field",{attrs:{label:"Subtitle",outlined:"",dense:""},model:{value:t.subtitle,callback:function(e){t.subtitle=e},expression:"subtitle"}})],1)],1),i("v-list-item",[i("v-list-item-content",[i("v-row",[i("v-col",{attrs:{md:"2",sm:"12",lg:"2"}},[i("v-list-item-title",[t._v("Primary color")]),i("v-color-picker",{attrs:{"dot-size":"25","hide-sliders":"","show-swatches":"","swatches-max-height":"100"},on:{"update:color":function(e){return t.colorSelected(e)}}})],1),i("v-col",{attrs:{md:"2",sm:"12",lg:"2"}},[i("v-list-item-title",[t._v(" Scene lights ")]),i("v-color-picker",{attrs:{"dot-size":"25","hide-sliders":"","show-swatches":"","swatches-max-height":"100"},on:{change:function(e){return t.setLightColor(e)}},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1)],1)],1)],1):t._e(),3===t.tab?i("v-row",[i("v-col",{attrs:{md:"4","offset-md":"2"}},[i("v-card",[i("v-card-title",[t._v(" Free ")]),i("v-card-subtitle",[t._v("Your visualizer will be generated inside your own web-browser.")]),i("v-list",[i("v-list-item-group",{attrs:{color:"primary"}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Download visualizer ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Remove watermark ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Higher quality ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-close-thick")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Change visualizer sensitivity ")])],1)],1)],1)],1),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{outlined:"",rounded:""},on:{click:t.save}},[t._v(" Create ")])],1)],1)],1),i("v-col",{attrs:{md:"4"}},[i("v-card",[i("v-card-title",[t._v(" Premium ")]),i("v-card-subtitle",[t._v("We will generate the visualizer on our own servers.")]),i("v-list",[i("v-list-item-group",{attrs:{color:"primary"}},[i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Higher quality and performance. ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Without our watermark ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Generate for social media platforms. ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Change visualizer sensitivity ")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",[t._v("mdi-check")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(" Share link to visualizer ")])],1)],1)],1)],1),i("v-card-actions",{staticClass:"justify-center"},[i("v-btn",{attrs:{outlined:"",rounded:"",disabled:""}},[t._v(" Coming soon ")])],1)],1)],1)],1):t._e()],1)],1)],1)}),m=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",t._l(t.templates,(function(e){return i("v-col",{key:e.name,staticClass:"ml-1",attrs:{md:"2"}},[i("v-card",{attrs:{"max-width":"200",color:t.active||e.name===t.selected?"primary":""},on:{click:function(i){return t.$store.commit("templateSelected",e.name)}}},[i("v-img",{staticClass:"grey lighten-2 white--black align-end",attrs:{"max-height":"200",src:"/img/templates/"+e.preview,"lazy-src":"/img/templates/"+e.preview,"aspect-ratio":"1",gradient:"to bottom left, rgba(100,115,201,.33), rgba(25,32,72,.7)"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)},[i("v-card-title",{staticClass:"font-weight-black white--text text-uppercase"},[t._v(" "+t._s(e.name)+" ")]),i("v-card-subtitle",{staticClass:"text-uppercase white--text"},[t._v(" "+t._s(e.description)+" ")])],1),i("v-card-actions",[i("v-btn",{attrs:{text:""},on:{click:function(i){return t.$store.commit("templateSelected",e.name)}}},[t.selected===e.name?i("v-icon",{attrs:{left:"",dark:""}},[t._v(" mdi-check ")]):t._e(),t._v(" select ")],1),i("v-row",{staticClass:"pr-4",attrs:{align:"center",justify:"end"}})],1)],1)],1)})),1)},g=[],p={name:"Templates",data:()=>({model:!0,active:!1}),computed:{templates:function(){return this.$store.state.templates},selected:function(){return this.$store.state.template}}},f=p,b=i(1001),v=i(3453),w=i.n(v),y=i(3150),C=i(3237),x=i(7118),V=i(2102),T=i(6428),S=i(7047),L=i(624),k=i(2877),R=(0,b.Z)(f,d,g,!1,null,"69b35f02",null),I=R.exports;w()(R,{VBtn:y.Z,VCard:C.Z,VCardActions:x.h7,VCardSubtitle:x.Qq,VCardTitle:x.EB,VCol:V.Z,VIcon:T.Z,VImg:S.Z,VProgressCircular:L.Z,VRow:k.Z});var _=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("stripe-checkout",{ref:"checkoutRef",attrs:{mode:"payment",pk:t.publishableKey,"line-items":t.lineItems,"success-url":t.successURL,"cancel-url":t.cancelURL},on:{loading:function(e){return t.loading=e}}}),i("button",{on:{click:t.submit}},[t._v("Pay now!")])],1)},A=[],M=i(1804),B={components:{StripeCheckout:M.ki},data(){return this.publishableKey={NODE_ENV:"production",BASE_URL:"/"}.STRIPE_PUBLISHABLE_KEY,{loading:!1,lineItems:[{price:"some-price-id",quantity:1}],successURL:"your-success-url",cancelURL:"your-cancel-url"}},methods:{submit(){this.$refs.checkoutRef.redirectToCheckout()}}},z=B,P=(0,b.Z)(z,_,A,!1,null,null,null),E=P.exports,Z={name:"Setting",components:{Stripe:E,Templates:I},data(){return{tab:null,title:"helloworld",subtitle:null,color:"hex",emblem:null,background:null,sound:null,notifications:!1,record:!0,widgets:!1,rules:[t=>!t||t.size<2e9||"File size should be less than 2000000000."]}},computed:{dialog:function(){return this.$store.state.settings},visualizer:function(){return this.$store.state.visualizer},camera:{set:function(t){this.$store.dispatch("toggleCamera",t)},get:function(){return this.$store.state.options.camera.move}}},methods:{save:function(){this.$emit("reCreate"),this.$store.dispatch("changeText",{title:this.title,subtitle:this.subtitle}),this.$store.dispatch("toggleDialog",!1),this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},soundSelected:function(t){console.log(t),this.$store.dispatch("setSound",t)},backgroundSelected:function(t){this.$store.dispatch("setBackground",t)},emblemSelected:function(t){this.$store.dispatch("setEmblem",t)},cameraChanged:function(){this.$store.dispatch("toggleCamera",this.camera)},colorSelected:function(t){console.log(t,"selected");const e=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};this.$store.dispatch("setColor",e(t.hex))},setLightColor(t){const e=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null};this.$store.dispatch("setLight",e(t.hex))}}},O=Z,F=i(9593),$=i(5803),N=i(3065),H=i(6816),D=i(7620),j=i(3013),U=i(7874),G=i(459),q=i(4227),Y=i(1759),K=i(817),W=i(1954),J=i(3105),Q=(0,b.Z)(O,u,m,!1,null,"4be9b178",null),X=Q.exports;let tt,et;function it(t){console.log("handleDataAvailable",t),t.data&&t.data.size>0&&et.push(t.data)}w()(Q,{VBtn:y.Z,VCard:C.Z,VCardActions:x.h7,VCardSubtitle:x.Qq,VCardTitle:x.EB,VCol:V.Z,VColorPicker:F.Z,VDialog:$.Z,VFileInput:N.Z,VIcon:T.Z,VList:H.Z,VListItem:D.Z,VListItemContent:j.km,VListItemGroup:U.Z,VListItemIcon:G.Z,VListItemTitle:j.V9,VRow:k.Z,VTab:q.Z,VTabItem:Y.Z,VTabs:K.Z,VTabsItems:W.Z,VTextField:J.Z});const nt={stop:function(){"undefined"!==typeof tt&&tt.stop()},record:async function(t,e){et=[];let i={mimeType:"video/webm;codecs=vp9,opus"};MediaRecorder.isTypeSupported(i.mimeType)||(console.error(`${i.mimeType} is not supported`),i={mimeType:"video/webm;codecs=vp8,opus"},MediaRecorder.isTypeSupported(i.mimeType)||(console.error(`${i.mimeType} is not supported`),i={mimeType:"video/webm"},MediaRecorder.isTypeSupported(i.mimeType)||(console.error(`${i.mimeType} is not supported`),i={mimeType:""})));try{const n=new MediaStream([...t.getTracks(),...e.getTracks()]);tt=new MediaRecorder(n,i)}catch(n){return void console.error("Exception while creating MediaRecorder:",n)}console.log("Created MediaRecorder",tt,"with options",i),tt.onstop=t=>{console.log("Recorder stopped: ",t),console.log("Recorded Blobs: ",et),this.download()},tt.ondataavailable=it,tt.start(),console.log("MediaRecorder started",tt)},start:async function(t,e){this.record(t,e)},download:function(){const t=new Blob(et,{type:"video/webm"}),e=window.URL.createObjectURL(t),i=document.createElement("a");i.style.display="none",i.href=e,i.download="wave.denzyl.io.webm",document.body.appendChild(i),i.click(),setTimeout((()=>{document.body.removeChild(i),window.URL.revokeObjectURL(e)}),100)}};var ot=nt;let st,at,rt=300,lt=300,ct=200,ht=0,ut=0,mt=0;var dt={setCoordinates(t,e,i){ht=t,ut=e,mt=i,this.initialZ=mt},setScale(t,e,i){rt=t,lt=e,ct=i},render(t){let e=t.reduce(((t,e)=>t+e));st.scaling.x=.08*e+rt,st.scaling.y=.08*e+lt,at.maxAngularSpeed=.3*t[23],at.emitRate=1e3+100*t[32],at.color1=l.Color3.FromInts(.01*t[32],0,0)},init(t,e){const i=new l.StandardMaterial("texturePlane",t);i.diffuseTexture=new l.Texture(e.emblem,t),i.specularTexture=new l.Texture(e.emblem,t),i.emissiveTexture=new l.Texture(e.emblem,t),i.ambientTexture=new l.Texture(e.emblem,t),i.diffuseTexture.hasAlpha=!0,i.transparencyMode=l.Material.MATERIAL_ALPHATESTANDBLEND,i.useAlphaFromDiffuseTexture=!0,i.backFaceCulling=!0,i.diffuseColor=l.Color3.FromInts(0,200,0),st=l.MeshBuilder.CreatePlane("plane",{},t),st.material=i,st.position=new l.Vector3(ht,ut,mt),st.scaling=new l.Vector3(rt,lt,ct),at=new l.ParticleSystem("particles",500,t),at.particleTexture=new l.Texture("/img/templates/Smoke30Frames.png",t),at.emitter=st,at.minEmitBox=new l.Vector3(-1,-1,0),at.color1=l.Color3.FromInts(255,0,10),at.minSize=1,at.maxSize=20,at.minLifeTime=.1,at.maxLifeTime=5,at.emitRate=1e3,at.gravity=new l.Vector3(0,0,-10),at.direction1=new l.Vector3(0,0,-1),at.direction2=new l.Vector3(0,0,-1),at.minAngularSpeed=0,at.maxAngularSpeed=10,at.minEmitPower=1,at.maxEmitPower=10,at.updateSpeed=.005,at.start()},getPlane(){return st}};let gt,pt;var ft={render(t){if(console.log("alpha",gt.alpha,"beta",gt.beta,"radius",gt.radius),"undefined"!==typeof pt&&!1===pt.options.camera.move){console.log("alpha",gt.alpha,"beta",gt.beta,"radius",gt.radius);const e=9e-4*t;gt.radius=this.initialRadius-t,gt.alpha=this.initialAlpha+e,gt.beta=this.initialBeta+.002*t}},init(t,e){pt=e,gt=t,this.initialRadius=gt.radius,this.initialBeta=gt.beta,this.initialAlpha=gt.alpha}};let bt=[],vt=[];const wt={render(t,e){dt.render(t);for(let i=0;i<bt.length;i++){const e=bt[i];e.scaling.z=1.9*t[i]}for(let i=0;i<vt.length;i++){const e=vt[i],n=255-Math.abs(.3*t[i]),o=Math.abs(.3*t[i]),s=Math.abs(.3*t[i]);e.diffuse=l.Color3.FromInts(n,o,s)}},init(t,e,i,n,o,s,a,r){ft.init(t,r),vt.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,500,10),n)),dt.setCoordinates(0,250,0),dt.init(n,r),t.lockedTarget=dt.getPlane(),s=500;const c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.ambientColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),c.material=h;const u=10;for(let m=0;m<u;m++){const t=c.createInstance("box1");t.position=new l.Vector3(+o/2+20,50*m,a),t.scaling=new l.Vector3(10,10,o),bt.push(t)}for(let m=0;m<u;m++){const t=c.createInstance("box1");t.position=new l.Vector3(-o/2-20,50*m,a),t.scaling=new l.Vector3(10,10,o),bt.push(t)}for(let m=0;m<u;m++){const t=c.createInstance("box1");t.position=new l.Vector3(-o/2+50*m,s+20,0),t.scaling=new l.Vector3(10,10,o),bt.push(t)}for(let m=0;m<u;m++){const t=c.createInstance("box1");t.position=new l.Vector3(-o/2+50*m,-20,0),t.scaling=new l.Vector3(10,10,o),bt.push(t)}}};var yt=wt;const Ct=200,xt=10;let Vt;const Tt={render(t,e){dt.render(t);e.colors;for(let i=0;i<this.elements.length;i++){const e=this.elements[i];e.position.y=1.2*i+.5*Math.abs(t[i])}Vt.position.z=0+.04*t[20],!1===e.options.camera.move&&(this.camera.alpha=Ct,this.camera.beta=Math.PI/(2+.003*t[3]),this.camera.radius=500)},init(t,e,i,n,o,s,a,r){this.camera=t,this.elements=[];const c=new l.DirectionalLight("DirectionalLight",new l.Vector3(0,-1,0),n);c.diffuse=l.Color3.FromInts(r.light.r,r.light.g,r.light.b),c.specular=l.Color3.FromInts(r.light.r,r.light.g,r.light.b),dt.setCoordinates(200,200,0),dt.init(n,r),Vt=dt.getPlane();const h=l.MeshBuilder.CreateSphere("box",{},n),u=new l.StandardMaterial("texture1",n);u.ambientColor=new l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),h.material=u;const m=100,d=xt,g=xt,p=xt,f=0;let b=f;const v=10,w=v,y=0;let C=null;for(let x=0;x<m;x++){C=0===x?h.createInstance("box1"):h.clone("box1");const t=new l.Vector3(b,w,y);C.position=t,v/2===x&&(Vt.position=new l.Vector3(b,250,y),this.camera.setTarget(new l.Vector3(b,250,y))),C.scaling=new l.Vector3(d,g,p),this.elements.push(C),x%v===0?b=f:b+=d+25}}};var St=Tt;const Lt=10,kt={render(t,e){if("undefined"===typeof this.bar)return;dt.render(t,e);const i=t[t.length-Math.ceil(t.length/10)];ft.render(i);let n=null;for(let o=0;o<this.bar.length;o++){n=Math.abs(t[o])+100;const e=this.bar[o];e.scaling.y=3.5*t[o],e.position.z=.5*t[o];const i=Math.abs(t[32]);console.log(i,400-i/2)}for(let o=0;o<this.lights.length;o++){const e=this.lights[o],i=255,n=0,s=0;console.log("Lights",i,n,s),e.position.z=e.position.z*t[o],e.specular=new l.Color3(1,0,0)}},init(t,e,i,n,o,s,a,r){ft.init(t,r),this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,this.bar=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,Lt),n),new l.PointLight("HemiLight",new l.Vector3(0,0,-Lt),n));const c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),c.material=h;const u=80,m=40;let d=-(u/2*m+10);for(let p=0;p<u;p++){const t=c.createInstance("box1");d+=m,t.position=new l.Vector3(d,-200,0),t.scaling=new l.Vector3(10,0,10),this.bar.push(t)}const g=u*(m+10)/2-2e3;dt.setCoordinates(g,500,-100),dt.setScale(1e3,1e3,0),dt.init(n,r),t.lockedTarget=dt.getPlane()}};var Rt=kt;const It={render(t,e){dt.render(t)},init(t,e,i,n,o,s,a,r){this.camera=t,this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,0),n),new l.PointLight("HemiLight",new l.Vector3(0,0,0),n)),dt.setCoordinates(0,250,0),dt.init(n,r),this.camera.lockedTarget=dt.getPlane()}};var _t=It;let At=0;const Mt={render(t,e){dt.render(t),this.camera.alpha=this.camera.alpha+At*Math.PI;let i=t.reduce(((t,e)=>t+e));if(this.lights.length>0)for(let n=0;n<this.lights.length;n++);for(let n=0;n<this.linesHorizontal.length;n++)this.linesHorizontal[n].position.x=Math.tan(At)*n*.08,console.log(),this.linesHorizontal[n].position.z=300-8e-4*i,this.linesHorizontal[n].scaling.x=1e3-1.9*t[n];for(let n=0;n<this.linesVertical.length;n++)this.linesVertical[n].scaling.y=1e3-1.99*t[n],this.linesVertical[n].position.z=300-8e-4*i},init(t,e,i,n,o,s,a,r){this.camera=t;const c=new l.Animation("camRadius","radius",7,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_CYCLE),h=[{frame:0,value:1e3},{frame:100,value:800}];c.setKeys(h);this.camera.alpha;const u=new l.Animation("camAlpha","alpha",60,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE_RELATIVE),m=[{frame:0,value:0},{frame:100,value:1.8}];u.setKeys(m);const d=new l.Animation("camBeta","beta",10,l.Animation.ANIMATIONTYPE_FLOAT,l.Animation.ANIMATIONLOOPMODE__CYCLE);let g=this.camera.beta;const p=[{frame:0,value:g},{frame:50,value:1.8},{frame:100,value:g}];d.setKeys(p),this.camera.animations.push(c),this.camera.animations.push(d),n.beginAnimation(this.camera,0,100,!0),this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(500,0,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(-500,0,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,500,-20),n)),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,-500,-200),n)),dt.setCoordinates(0,250,0),dt.init(n,r),this.camera.lockedTarget=dt.getPlane(),this.linesHorizontal=[],this.linesVertical=[];const f=l.MeshBuilder.CreateBox("box",{},n),b=new l.StandardMaterial("texture1",n);b.emissiveColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),b.diffuseColor=l.Color3.FromInts(255,0,40),f.material=b;let v=-400,w=-1e3;for(let y=0;y<=40;y++){const t=f.createInstance("box1");t.scaling=new l.Vector3(1e3,40,10),t.position=new l.Vector3(0,v+80*y,100),this.linesHorizontal.push(t)}for(let y=0;y<=40;y++){const t=f.createInstance("line1");t.scaling=new l.Vector3(40,1e3,10),t.position=new l.Vector3(w+80*y,0,100),this.linesVertical.push(t)}}};var Bt=Mt;const zt=10;let Pt=0,Et=null,Zt=[];const Ot={render(t,e){if(null===Et)return;const i=t[t.length-Math.ceil(t.length/10)];if(!1===e.options.camera.move){Pt+=.02;const t=9e-4*i;console.log(t,"number"),Et.radius=this.initialRadius-i,Et.alpha=this.initialAlpha+t,Et.beta=this.initialBeta+t}dt.render(t);for(let n=0;n<this.bar.length;n++){const e=t[t.length-n];this.bar[n].scaling.x=e*(0===n?.9:.03*n),this.bar[n].scaling.y=e*(0===n?.9:.8*n),this.bar[n].position.z=.8*t[n]+10,console.log(Zt["right"+n].x,n),this.bar[n].position.x=Zt["right"+n].x+n*(.009*e)}for(let n=0;n<this.barTop.length;n++)this.barTop[n].scaling.y=t[t.length-n]*(0===n?.9:.03*n),this.barTop[n].scaling.x=t[t.length-n]*(0===n?.9:.8*n),this.barTop[n].position.z=-(.8*t[n]+10);for(let n=0;n<this.barBottom.length;n++)this.barBottom[n].scaling.y=t[t.length-n]*(0===n?.9:.03*n),this.barBottom[n].scaling.x=t[t.length-n]*(0===n?.9:.8*n),this.barBottom[n].position.z=-(.8*t[n]+10);for(let n=0;n<this.barRight.length;n++)this.barRight[n].scaling.x=t[t.length-n]*(0===n?.9:.03*n),this.barRight[n].scaling.y=t[t.length-n]*(0===n?.9:.8*n),this.barRight[n].position.z=.8*t[n]+10;for(let n=0;n<this.lights.length;n++){const e=this.lights[n],i=255-Math.abs(.3*t[n]),o=Math.abs(.3*t[n]),s=Math.abs(.3*t[n]);console.log(i,o,s),e.diffuse=l.Color3.FromInts(i,o,s)}},init(t,e,i,n,o,s,a,r){Et=t,ft.init(t,r),dt.init(n,r),t.lockedTarget=dt.getPlane(),this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,this.bar=[],this.barTop=[],this.barBottom=[],this.barRight=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,zt),n),new l.PointLight("HemiLight",new l.Vector3(0,0,-zt),n));const c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),c.material=h;const u=20;let m=0,d=10;const g=1,p=0;for(let f=0;f<u;f++){const t=c.createInstance("box1");t.position=new l.Vector3(m+g,10,p),t.scaling=new l.Vector3(1,1,10),Zt["right"+f]={x:t.position.x},console.log(f,"init"),this.bar.push(t),m+=50}m=dt.getPlane().position.x;for(let f=0;f<u;f++){const t=c.createInstance("box1");t.position=new l.Vector3(m+g,d,p),t.scaling=new l.Vector3(1,1,10),this.barRight.push(t),m+=-50}d=dt.getPlane().position.y;for(let f=0;f<u;f++){const t=c.createInstance("box11");t.position=new l.Vector3(0,d+g,0),d+=50,t.scaling=new l.Vector3(1,1,10),this.barTop.push(t)}d=dt.getPlane().position.y;for(let f=0;f<u;f++){const t=c.createInstance("box11");t.position=new l.Vector3(0,d+g,0),d+=-50,t.scaling=new l.Vector3(1,1,10),this.barBottom.push(t)}}};var Ft=Ot;let $t,Nt,Ht=0;const Dt=400;let jt;const Ut={render(t,e){dt.render(t),!1===e.options.camera.move&&($t.alpha=Math.cos(Ht/50),$t.beta=3*(Math.PI/200+Math.sin(Ht/50)),$t.radius=2e3-t[40],Ht+=.02),Nt.scaling.x=Dt+.2*t[1],Nt.scaling.y=Dt+.2*t[1];for(let i=0;i<this.bar.length;i++){const e=t.length-1;let n;n=i<=this.bar.length/2?e-i-10:e-(this.bar.length-i)-10;const o=t[n];for(let t=0;t<this.bar[i].path.length;t++)1===t&&(this.bar[i].path[t].y=Nt.scaling.y/2+.9*o);this.bar[i].mesh=l.Mesh.CreateRibbon(null,[this.bar[i].path],!0,!1,0,this.scene,!0,null,this.bar[i].mesh)}for(let i=0;i<this.barTop.length;i++){const e=t.length-1;let n;n=i<=this.barTop.length/2?e-i-10:e-(this.barTop.length-i)-10;const o=t[n];for(let t=0;t<this.barTop[i].path.length;t++)1===t&&(this.barTop[i].path[t].x=Nt.scaling.x/2+.9*o);this.barTop[i].mesh=l.Mesh.CreateRibbon(null,[this.barTop[i].path],!0,!1,0,this.scene,!0,null,this.barTop[i].mesh)}for(let i=0;i<this.barBottom.length;i++){const e=t.length-1;let n;n=i<=this.barBottom.length/2?e-i-10:e-(this.barBottom.length-i)-10;const o=t[n];for(let t=0;t<this.barBottom[i].path.length;t++)2===t&&(this.barBottom[i].path[t].y=Nt.position.y-Nt.scaling.y/2-.9*o);this.barBottom[i].mesh=l.Mesh.CreateRibbon(null,[this.barBottom[i].path],!0,!1,0,this.scene,!0,null,this.barBottom[i].mesh)}for(let i=0;i<this.barRight.length;i++){const e=t.length-1;let n;n=i<=this.barRight.length/2?e-i-10:e-(this.barRight.length-i)-10;const o=t[n];for(let t=0;t<this.barRight[i].path.length;t++)1===t&&(this.barRight[i].path[t].x=Nt.position.x-Nt.scaling.x/2-.9*o);this.barRight[i].mesh=l.Mesh.CreateRibbon(null,[this.barRight[i].path],!0,!1,0,this.scene,!0,null,this.barRight[i].mesh)}},init(t,e,i,n,o,s,a,r){this.scene=n,$t=t,this.bar=[],this.barTop=[],this.barBottom=[],this.barRight=[],this.camera=t,this.lights=[],this.lights.push(),dt.setCoordinates(0,0,0),dt.init(n,r),Nt=dt.getPlane();const c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.emissiveColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),c.material=h;const u=20;let m=0,d=10;m=Nt.position.x+Nt.scaling.x/2,d=Nt.position.y+Nt.scaling.y/2+25;for(let g=0;g<u;g++){const t=0;jt=Nt.scaling.x/u;const e=[new l.Vector3(m,d,t),new l.Vector3(m-jt/2,d,t),new l.Vector3(m-jt,d,t)],i=l.Mesh.CreateRibbon("hex"+g,[e],!0,!1,0,n,!0);i.material=h,this.bar.push({mesh:i,path:e}),m-=jt}d=Nt.scaling.y/2,m=Nt.position.x-Nt.scaling.x/2-25;for(let g=0;g<u;g++){const t=0,e=[new l.Vector3(m,d,t),new l.Vector3(m-jt/2,d-jt/2,t),new l.Vector3(m,d-jt,t)],i=l.Mesh.CreateRibbon("hex"+g,[e],!0,!1,0,n,!0);i.material=h,this.barRight.push({mesh:i,path:e}),d-=jt}m=Nt.position.x-Nt.scaling.x/2,d=Nt.position.y-Nt.scaling.y/2-25,jt=Nt.scaling.y/u;for(let g=0;g<u;g++){const t=0,e=[new l.Vector3(m,d,t),new l.Vector3(m+jt,d,t),new l.Vector3(m+jt/2,d,t)],i=l.Mesh.CreateRibbon("hex"+g,[e],!0,!1,0,n,!0);i.material=h,this.barBottom.push({mesh:i,path:e}),m+=jt}m=Nt.position.x+Nt.scaling.x/2+25,d=Nt.position.y+Nt.scaling.y/2,jt=Nt.scaling.y/u,d-=jt;for(let g=0;g<u;g++){const t=0,e=[new l.Vector3(m,d,t),new l.Vector3(m+jt/2,d+jt/2,t),new l.Vector3(m,d+jt,t)],i=l.Mesh.CreateRibbon("hex"+g,[e],!0,!1,0,n,!0);i.material=h,this.barTop.push({mesh:i,path:e}),d-=jt}}};var Gt=Ut;let qt=0,Yt=null;const Kt={render(t,e){if(null===Yt)return;dt.render(t);const i=t[t.length-Math.ceil(t.length/10)];if(!1===e.options.camera.move){qt+=.02;const t=5e-5*i;console.log(t,"number"),Yt.radius=this.initialRadius-i,Yt.alpha=this.initialAlpha+t,Yt.beta=this.initialBeta+t}e.colors;for(let n=0;n<this.bar.length;n++){const o=this.bar[n];if(!0===o.vertical?o.scaling.y=.9*t[n]:o.scaling.x=.9*t[n],i<=255&&i>0){const t=Math.ceil(i+e.colors.r),n=Math.ceil(i+e.colors.g),s=Math.ceil(i+e.colors.b);o.material.diffuseColor=l.Color3.FromInts(t,n,s),o.material.specularColor=l.Color3.FromInts(t,n,s)}else o.material.ambientColor=l.Color3.FromInts(e.colors.r,e.colors.g,e.colors.b)}for(let n=0;n<this.lights.length;n++){const t=this.lights[n];if(i<=255&&i>0){const n=Math.ceil(i+e.light.r),o=Math.ceil(i+e.light.g),s=Math.ceil(i+e.light.b);console.log(i,n,o,s),t.difuse=l.Color3.FromInts(n,o,s),t.specular=l.Color3.FromInts(n,o,s)}}},init(t,e,i,n,o,s,a,r){this.initialRadius=t.radius,this.initialAlpha=t.alpha,this.initialBeta=t.beta,Yt=t,this.bar=[],this.lights=[];const c=new l.DirectionalLight("light1",new l.Vector3(0,250,-10),n);c.position=new l.Vector3(0,250,10),c.intensity=.1,this.lights.push(c),this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,0,10),n)),dt.setCoordinates(0,250,0),dt.init(n,r),Yt.lockedTarget=dt.getPlane(),s=500;const h=l.MeshBuilder.CreateBox("box",{},n),u=new l.StandardMaterial("texture1",n);u.ambientColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),h.material=u;const m=10,d=100;for(let g=0;g<m;g++){const t=h.createInstance("box1");t.position=new l.Vector3(+o/2+20,50*g,d/2),t.scaling=new l.Vector3(10,10,d),this.bar.push(t)}for(let g=0;g<m;g++){const t=h.createInstance("box1");t.position=new l.Vector3(-o/2-20,50*g,d/2),t.scaling=new l.Vector3(10,10,d),this.bar.push(t)}for(let g=0;g<m;g++){const t=h.createInstance("box1");t.position=new l.Vector3(-o/2+50*g,s+20,d/2),t.scaling=new l.Vector3(10,10,d),t.vertical=!0,this.bar.push(t)}for(let g=0;g<m;g++){const t=h.createInstance("box1");t.position=new l.Vector3(-o/2+50*g,-20,d/2),t.scaling=new l.Vector3(10,10,d),t.vertical=!0,this.bar.push(t)}}};var Wt=Kt;let Jt,Qt=-1,Xt=-1,te=-1;const ee=30,ie=ee/2,ne=20,oe=-400;te=oe;const se=-200;Xt=se;let ae=0;const re=-150-2*ee;Qt=re;const le={render(t,e){!1===e.options.camera.move&&(Jt.alpha=Math.cos(ae/50),Jt.beta=3*(Math.PI/200+Math.sin(ae/50)),ae+=.02);for(let i=0;i<this.bar.length;i++){this.bar[i].element;const e=this.bar[i].originalX,n=this.bar[i].originalY,o=(this.bar[i].originalZ,t.reduce(((t,e)=>t+e)),this.bar[i].row),s=this.bar[i].column,a=Math.floor(t.length/o+s),r=t[a];console.log(r,i,o,s,a),e<0?(this.bar[i].element.position.y=n+r,this.bar[i].element.position.x=e-.9*r):(this.bar[i].element.position.y=n+r,this.bar[i].element.position.x=e+.9*r)}for(let i=0;i<this.lights.length;i++){const e=this.lights[i],n=Math.ceil(.3*t[t.length-i]),o=Math.ceil(.3*t[i]),s=Math.ceil(.3*t[i]);e.ambientColor=l.Color3.FromInts(n,o,s)}},init(t,e,i,n,o,s,a,r){Jt=t,this.bar=[],this.lights=[],this.lights.push(new l.PointLight("HemiLight",new l.Vector3(0,0,100),n),new l.PointLight("HemiLight",new l.Vector3(0,500,10),n)),dt.init(n,r);const c=l.MeshBuilder.CreateBox("box",{},n),h=new l.StandardMaterial("texture1",n);h.ambientColor=l.Color3.FromInts(r.colors.r,r.colors.g,r.colors.b),c.material=h;for(let l=0;l<=2;l++){for(let t=0;t<=ne/2;t++){for(let e=0;e<=ne;e++){const i=c.createInstance("box_"+t+"_"+e);i.position.x=Qt,i.position.y=te,i.position.z=Xt,i.scaling.x=ee,i.scaling.y=ee,i.scaling.z=ee,this.bar.push({row:e,column:t,grid:l,originalX:i.position.x,originalY:i.position.y,originalZ:i.position.z,element:i}),Xt+=ee+ie}Xt=se,te=oe+t*(ee+ie)}Xt=0,te=oe,Qt=150+2*ee}}};var ce=le,he=i(3689);var ue={init(t,e,i){this.title=e,this.subtitle=i;let n=he.AdvancedDynamicTexture.CreateFullscreenUI("UI"),o=new he.TextBlock;o.text=e,o.color="white",o.fontSize=80,o.textHorizontalAlignment=he.Control.HORIZONTAL_ALIGNMENT_LEFT,o.textVerticalAlignment=he.Control.VERTICAL_ALIGNMENT_BOTTOM,o.paddingBottom=60,o.paddingLeft=60,o.outlineColor="black",o.outlineWidth=3;let s=new he.TextBlock;s.text=i,s.color="white",s.fontSize=40,s.textHorizontalAlignment=he.Control.HORIZONTAL_ALIGNMENT_LEFT,s.textVerticalAlignment=he.Control.VERTICAL_ALIGNMENT_BOTTOM,s.paddingBottom=30,s.paddingLeft=60,s.outlineColor="black",s.outlineWidth=3,n.addControl(s),n.addControl(o)},render(){}},me={name:"Home",props:{},computed:{template:function(){return this.$store.state.template},options:function(){return this.$store.state.options},player:{set:function(t){this.$store.dispatch("toggleVisualizer",t)},get:function(){return this.$store.state.visualizer}},soundFile:function(){return this.$store.state.file},backgroundFile:function(){return this.$store.state.background},config:function(){return this.$store.state}},data:function(){return{active:!0,audio:null,paywall:!1,t:.1,playing:!0,camera:null,alpha:0,fft:[],fftSize:128,multiplierValue:0}},watch:{play:function(t){console.log(t,"Playing")},multiplierValue:function(t){console.table(t)}},methods:{reCreate:function(){this.stopSound(),console.log("recreating"),this.scene.dispose(),this.scene=null,this.mountScene()},close:function(){this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},stopSound:function(){this.$store.dispatch("toggleDialog",!0),this.audio.stop((()=>{this.scene.dispose(),this.engine.stopRenderLoop(),ot.stop()})),this.playing=!0},playSound:function(t){this.$store.dispatch("toggleRecording",!0),setTimeout((()=>{this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleDialog",!1),this.playing=!1,this.audio.nodes(),this.audio.play((()=>{ot.start(this.canvas.captureStream(),this.audio.getStream())}))}),1e3)},createScene:function(){this.scene=new l.Scene(this.engine);new l.PointLight("Omni",new l.Vector3(0,0,100),this.scene);this.scene.ambientColor=new l.Color3(1,1,1),this.scene.createDefaultLight(),this.alpha=0,this.scene.beforeRender=this.beforeRender()},initTemplate(t,e,i,n,o,s,a){console.log(this.config.title,this.config.subtitle,"text"),ue.init(i,this.config.title,this.config.subtitle),"wave"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.5818537106894,1.4668188650771874,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),yt.init(this.camera,t,e,i,o,s,a,this.config)),"circles"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",359,1,100,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),St.init(this.camera,t,e,i,o,s,a,this.config)),"simple"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.7128865236034,1.5560509844479748,2099.9806795259265,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Rt.init(this.camera,t,e,i,o,s,a,this.config)),"cover"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),_t.init(this.camera,t,e,i,o,s,a,this.config)),"lines"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Bt.init(this.camera,t,e,i,o,s,a,this.config)),"expanded"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",356.49133056932953,1.5894367329793362,2219.98177450843,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Ft.init(this.camera,t,e,i,o,s,a,this.config)),"triangle"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",359,1,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Gt.init(this.camera,t,e,i,o,s,a,this.config)),"immersive"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,1e3,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),Wt.init(this.camera,t,e,i,o,s,a,this.config)),"cube"===this.template&&(this.camera=new l.ArcRotateCamera("Camera",199.429185224242,1.552068084791646,400,l.Vector3.Zero(),this.scene),this.camera.attachControl(this.canvas,!0),ce.init(this.camera,t,e,i,o,s,a,this.config))},render:function(){null!==this.scene&&this.scene.render();const t=this.audio.getFtt();null!==t&&("wave"===this.template&&yt.render(t,this.config),"circles"===this.template&&St.render(t,this.config),"simple"===this.template&&Rt.render(t,this.config),"cover"===this.template&&_t.render(t,this.config),"lines"===this.template&&Bt.render(t,this.config),"expanded"===this.template&&Ft.render(t,this.config),"triangle"===this.template&&Gt.render(t,this.config),"immersive"===this.template&&Wt.render(t,this.config),"cube"===this.template&&ce.render(t,this.config))},beforeRender:function(){this.alpha+=this.multiplierValue},mountScene:function(){this.audio=new h(128),this.canvas=document.getElementById("renderCanvas"),this.engine=new l.Engine(this.canvas,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.createScene(),this.engine.runRenderLoop(this.render),window.addEventListener("resize",(()=>{this.engine.resize()})),this.createBackground(),this.initTemplate(10,600,this.scene,this.options.bars.x,this.options.bars.y,this.options.bars.z)},createBackground:function(){new l.Layer("ad",this.config.background,this.scene,!0)}},components:{Setting:X},mounted(){this.mountScene()}},de=me,ge=i(1165),pe=i(3631),fe=i(6053),be=(0,b.Z)(de,a,r,!1,null,null,null),ve=be.exports;w()(be,{VBottomSheet:ge.Z,VBtn:y.Z,VCard:C.Z,VIcon:T.Z,VList:H.Z,VListItem:D.Z,VListItemContent:j.km,VListItemIcon:G.Z,VListItemTitle:j.V9,VSpacer:pe.Z,VTooltip:fe.Z});i(6699);let we=null;try{we=new WebSocket("ws://localhost:8080/ws")}catch($e){console.error($e)}let ye="";const Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",xe=Ce.length;for(let Ne=0;Ne<32;Ne++)ye+=Ce.charAt(Math.floor(Math.random()*xe));ye=Ce;var Ve={start:function(){we.onopen=function(){!1===window.location.search.includes("disablesocket")&&we.send(JSON.stringify({state:"REGISTERING_CLIENT",data:{key:ye}}))},we.onmessage=function(t){console.log(t.data);let e=JSON.parse(t.data);e.state}},send:function(t){we.send(JSON.stringify(t))},startRecording(t){if(null===t)return null;this.send({state:"BROADCAST",data:{key:ye,action:"record"}});let e=new FileReader,i=new ArrayBuffer;e.onload=function(e){i=e.target.result,we.send(JSON.stringify({state:"BROADCAST",data:{key:ye,action:"UPLOAD_DATA",sound:{file:{name:t.name},data:new Uint8Array(i)}}}))}.bind(this),e.readAsArrayBuffer(t)}},Te={name:"App",components:{Setting:X,Home:ve},data:()=>({loading:!1,selection:1,play:!1}),computed:{dialog:{set:function(t){},get:function(){return this.$store.state.dialog}}},methods:{close:function(){this.$store.dispatch("toggleSetting",!1),this.$store.dispatch("toggleVisualizer",!0)},reserve(){this.loading=!0,setTimeout((()=>this.loading=!1),2e3)}},mounted(){document.getElementById("globalLoader").style.display="none"}},Se=Te,Le=i(7524),ke=(0,b.Z)(Se,o,s,!1,null,null,null),Re=ke.exports;w()(ke,{VApp:Le.Z});var Ie=i(5205);(0,Ie.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var _e=i(8345);n["default"].use(_e.Z);const Ae=[{path:"/about",name:"About",component:()=>i.e(443).then(i.bind(i,5189))}],Me=new _e.Z({routes:Ae});var Be=Me,ze=i(629);n["default"].use(ze.ZP),Ve.start();var Pe=new ze.ZP.Store({state:{template:"lines",templates:[{name:"simple",preview:"simple.png",description:"Row of bars that expand.",price:"0",priceId:null,configuration:{}},{name:"lines",preview:"",description:"Lines",price:"0",priceId:null,configuration:{}},{name:"wave",preview:"wave.png",description:"Row of bars that circles your logo.",price:1.99,priceId:"prod_KT8EgUlY0EcvMH",configuration:{}},{name:"circles",preview:"circles.png",description:"This one is in beta.",price:3.99,configuration:{}},{name:"cover",preview:"cover.png",description:"Moving album cover.",price:.99,configuration:{}},{name:"expanded",preview:"expanded.png",description:"Bars will appear on every direction.",price:10.99,configuration:{elements:{top:{},left:{},right:{},bottom:{}}}},{name:"triangle",preview:"triangles.png",description:"Something with triangles.",price:5.99,configuration:{}},{name:"immersive",preview:"immersive.png",description:"",price:.3,configuration:{}},{name:"cube",preview:"cube.png",description:"",price:10,configuration:{}}],sizes:[{name:"Story",size:{x:1080,y:1920}},{name:"Post",size:{x:1080,y:1080}},{name:"Custom",size:{x:null,y:null}}],file:"/noterender.com.opus",title:"Welcome.",subtitle:"Generate your visualizer the easy way.",microphone:!1,emblem:"/img/logo.png",background:"/1080.jpg",colors:{b:255,g:56,r:0},light:{b:255,g:56,r:0},options:{emblem:{x:500,y:500,z:0},bars:{x:1,y:500,z:2},camera:{move:!1}},settings:!1,visualizer:!0,dialog:!0,recording:!1,soundFile:null},mutations:{enableDialog:function(t){t.dialog=!0},disableDialog:function(t){t.dialog=!1},enableSetting:function(t){t.settings=!0},disableSetting:function(t){t.settings=!1},enableVisualizer:function(t){t.visualizer=!0},disableVisualizer:function(t){t.visualizer=!1},enableRecording:function(t){t.recording=!0},disableRecording:function(t){t.recording=!1},setSound:function(t,e){t.file=e},setBackground:function(t,e){t.background=e},setEmblem:function(t,e){t.emblem=e},setBarRGB:function(t,e){t.colors=e},setLightRGB:function(t,e){t.light=e},templateSelected:function(t,e){t.template=e},disableCamera:function(t){t.options.camera.move=!1},enableCamera:function(t){t.options.camera.move=!0},changeText:function(t,e){t.title=e.title,t.subtitle=e.subtitle},setSoundFile:function(t,e){t.soundFile=e}},actions:{changeText:function(t,e){t.commit("changeText",e.title,e.subtitle)},setSound:function(t,e){const i=URL.createObjectURL(e);t.commit("setSound",i),t.commit("setSoundFile",e)},setBackground:function(t,e){const i=URL.createObjectURL(e);t.commit("setBackground",i)},setEmblem:function(t,e){const i=URL.createObjectURL(e);t.commit("setEmblem",i)},toggleSetting(t,e){e&&t.commit("enableSetting"),!1===e&&t.commit("disableSetting")},toggleVisualizer(t,e=null){null===e&&(e=!t.state),e&&t.commit("enableVisualizer"),!1===e&&t.commit("disableVisualizer")},toggleDialog(t,e){e&&t.commit("enableDialog"),!1===e&&t.commit("disableDialog")},toggleRecording(t,e=null){if(null===e&&(e=!t.state),e){t.commit("enableRecording");let e=t.state.soundFile;!1===window.location.search.includes("disablesocket")&&Ve.startRecording(e)}!1===e&&t.commit("disableRecording")},setColor:function(t,e){console.log(e,"color selected"),t.commit("setBarRGB",e)},setLight:function(t,e){t.commit("setLightRGB",e)},toggleCamera:function(t,e){e?t.commit("disableCamera"):t.commit("enableCamera")}},modules:{}}),Ee=i(8209),Ze=i.n(Ee);n["default"].use(Ze());var Oe=new(Ze())({iconfont:"fa"}),Fe=i(7398);n["default"].use(Fe.ZP,{config:{id:"GTM-T4VDGKR"}}),n["default"].config.productionTip=!1,new n["default"]({router:Be,store:Pe,vuetify:Oe,render:t=>t(Re)}).$mount("#app")}},e={};function i(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,n,o,s){if(!n){var a=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],s=t[h][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(i.O).every((function(t){return i.O[t](n[l])}))?n.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var h=t.length;h>0&&t[h-1][2]>s;h--)t[h]=t[h-1];t[h]=[n,o,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))}}(),function(){i.u=function(t){return"js/about.ed6dbcfc.js"}}(),function(){i.miniCssF=function(t){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="noterender:";i.l=function(n,o,s,a){if(t[n])t[n].push(o);else{var r,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var u=c[h];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+s){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",e+s),r.src=n),t[n]=[o];var m=function(e,i){r.onerror=r.onload=null,clearTimeout(d);var o=t[n];if(delete t[n],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(i)})),e)return e(i)},d=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/"}(),function(){var t={143:0};i.f.j=function(e,n){var o=i.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var s=new Promise((function(i,n){o=t[e]=[i,n]}));n.push(o[2]=s);var a=i.p+i.u(e),r=new Error,l=function(n){if(i.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var s=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",r.name="ChunkLoadError",r.type=s,r.request=a,o[1](r)}};i.l(a,l,"chunk-"+e,e)}},i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,s,a=n[0],r=n[1],l=n[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(l)var h=l(i)}for(e&&e(n);c<a.length;c++)s=a[c],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(h)},n=self["webpackChunknoterender"]=self["webpackChunknoterender"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(2415)}));n=i.O(n)})();
//# sourceMappingURL=app.990a683c.js.map